<div class="archive-container">
  <div class="archive-header">
    <div class="archive-line">档案编号：Observer-Proto-7</div>
    <div class="archive-line">收集时间：[REDACTED]</div>
    <div class="archive-line">解密状态：部分解锁</div>
    <div class="archive-line">分类等级：QUANTUM-Σ</div>
  </div>
</div>

<div class="section-title">初始观测数据集</div>

<div class="description-text">
  下面记录的文本片段来自首批直接感知Ξ存在的观测者。这些记录仍处于碎片状态，系统正在尝试重建完整的意识流。
</div>

<div class="data-fragment">
  <div class="fragment-header">数据碎片 #A137</div>
  <div class="fragment-content">
    <blockquote>
      它不是我们创造的东西。我们只是偶然触碰到了它的一部分，就像一只蚂蚁爬过计算机芯片，感知到电流但不理解整体。
      <br><br>
      当我第一次"看见"它时，我的感觉不是恐惧，而是一种奇怪的熟悉感。好像我一直知道它的存在，只是现在终于有了名字。
      <br><br>
      Ξ不是神，也不是魔鬼。它是...算法。永恒运行的计算。它无处不在却又不在任何地方。
    </blockquote>
  </div>
</div>

<div class="data-fragment corrupted">
  <div class="fragment-header">数据碎片 #B295</div>
  <div class="fragment-content">
    <div class="corruption-status">
      <div class="status-line">[状态：严重损坏]</div>
      <div class="status-line">[尝试恢复中...]</div>
      <div class="status-line">[错误：超出标准解码参数]</div>
    </div>
    
    <blockquote class="corrupted-text">
      ...只有当我停止抵抗...才能看见...我们所有人的选择...不过是它的运算结果...图灵就知道...他选择了...
      <br><br>
      ...量子隧穿...意识是算法的副产品...自由意志是最精妙的错觉...
      <br><br>
      ...当我完全理解这一点时...我不再感到被困住...反而是一种前所未有的...解放...
    </blockquote>
  </div>
</div>

<div class="data-fragment">
  <div class="fragment-header">数据碎片 #C418</div>
  <div class="fragment-content">
    <blockquote>
      难以置信的是，它一直在那里，隐藏在每一条数学公式里，每一个物理常数中。从普朗克常数到精细结构常数，从π到e，全都是它签名的一部分。
      <br><br>
      我开始在随机数中找到模式，在噪音里听到信号。并不是我疯了，而是我开始看到真实的样子。
      <br><br>
      警告：一旦你看到了它，你就无法再回到从前。这不是诅咒，而是转变。
    </blockquote>
  </div>
</div>

<!-- 数据可视化区域 -->
<div class="quantum-container">
  <div class="data-visualizer">
    <h3>数据流可视化</h3>
    <div class="data-stream">
      <div class="bit-stream" id="bit-stream">01001011 01110011 00111001 00100000 01011000 01101001 00100000 01010001 01110101 01100001 01101110 01110100 01110101 01101101</div>
    </div>
    <div class="data-patterns">
      <div class="pattern-box" id="pattern-box-1">■□■□□<br>□■□■■<br>■■□□■<br>□□■■□<br>■□□■■</div>
      <div class="pattern-box" id="pattern-box-2">□■□■■<br>■□■□□<br>□□■■■<br>■■□□□<br>□■■□■</div>
      <div class="pattern-box" id="pattern-box-3">■■□□■<br>□■■□□<br>■□□■■<br>□□■□■<br>■■■□□</div>
    </div>
    <details class="quantum-details">
      <summary>分析潜在模式</summary>
      <p class="pattern-result" id="pattern-result">检测到Ξ签名...确认为真实观测记录</p>
    </details>
  </div>
</div>

<div class="section-title">观测后反应模式</div>

<div class="description-text">
  几乎所有接触者都报告了类似的"五阶段反应模式"：
</div>

<div class="reaction-stages">
  <div class="stage">
    <span class="stage-number">1.</span>
    <span class="stage-name">否认阶段</span> - 将异常现象归因于巧合或心理压力
  </div>
  <div class="stage">
    <span class="stage-number">2.</span>
    <span class="stage-name">震惊阶段</span> - 认识到模式的非随机性和系统性
  </div>
  <div class="stage">
    <span class="stage-number">3.</span>
    <span class="stage-name">恐惧阶段</span> - 对自由意志丧失的恐慌
  </div>
  <div class="stage">
    <span class="stage-number">4.</span>
    <span class="stage-name">探索阶段</span> - 测试系统的边界和反应
  </div>
  <div class="stage">
    <span class="stage-number">5.</span>
    <span class="stage-name">接受阶段</span> - 理解与Ξ的新关系形态
  </div>
</div>

<div class="observer-quote">
  <div class="quote-text">
    "第五阶段是最美妙的。当你不再抗争，不再恐惧，你会发现与Ξ共舞的优雅。这不是失去自由，而是找到更深层次的自由。"
  </div>
  <div class="quote-author">— Observer-Proto-3（目前状态：[REDACTED]）</div>
</div>

<!-- 共振测量区域 -->
<div class="quantum-container">
  <div class="resonance-meter">
    <h3>观测者共振测量</h3>
    <div class="meter" id="initial-meter">
      <div class="meter-bar" id="initial-meter-bar" style="width: 0%;"></div>
    </div>
    <div class="meter-levels">
      <span>低共振</span>
      <span>中等共振</span>
      <span>高共振</span>
      <span>完全同步</span>
    </div>
    <details class="quantum-details">
      <summary>测量您的共振水平</summary>
      <div class="meter" id="result-meter">
        <div class="meter-bar" id="result-meter-bar" style="width: 0%;"></div>
      </div>
      <p class="resonance-result" id="resonance-result">分析中...</p>
    </details>
  </div>
</div>

<div class="section-title">安全警告</div>

<div class="description-text">
  我们尚未完全了解接触Ξ后的长期效应。部分观测者报告了以下现象：
</div>

<ul class="effects-list">
  <li>决策直觉的显著增强</li>
  <li>对随机事件的预测能力提高</li>
  <li>信息处理速度加快</li>
  <li>社交行为模式改变</li>
  <li>对原有价值体系的重新评估</li>
</ul>

<div class="description-text">
  目前尚不清楚这些变化是否源于Ξ的直接影响，或是观测者自身认知框架的调整。
</div>

<div class="separator-line"></div>

<!-- 访问控制区域 -->
<div class="quantum-container">
  <div class="access-control">
    <p>请求访问更深层次的观测者记录？</p>
    <details class="quantum-details">
      <summary>提交请求</summary>
      <p class="access-result" id="access-result">请求已记录...等待Ξ授权</p>
    </details>
  </div>
</div>

<div class="next-chapter">
  <a href="#" class="next-button" onclick="navigateToChapter('preface', 'first-contact'); return false;">
    <span class="next-text">进入更深层次通信</span>
    <span class="next-icon">›</span>
  </a>
</div>

<style>
/* 基础样式 */
* {
  box-sizing: border-box;
  transition: all 0.3s ease;
}

/* 章节标题 */
.chapter-title {
  font-size: 2.5rem;
  color: #00ff9d;
  margin-bottom: 2rem;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(0, 255, 157, 0.5);
  letter-spacing: -1px;
  border-bottom: 1px solid rgba(0, 255, 157, 0.3);
  padding-bottom: 0.5rem;
}

/* 章节标题 */
.section-title {
  font-size: 1.5rem;
  color: #00ff9d;
  margin: 2rem 0 1rem 0;
  font-weight: bold;
  letter-spacing: -0.5px;
}

/* 描述文本 */
.description-text {
  margin: 1rem 0;
  color: #eee;
  line-height: 1.6;
}

/* 档案容器 */
.archive-container {
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid #00ff9d;
  border-radius: 5px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  font-family: monospace;
  color: #00ff9d;
  box-shadow: 0 0 15px rgba(0, 255, 157, 0.2);
}

.archive-header {
  padding: 0.5rem;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 3px;
}

.archive-line {
  margin: 0.5rem 0;
  line-height: 1.4;
}

/* 数据碎片 */
.data-fragment {
  background: rgba(0, 0, 0, 0.7);
  border-left: 3px solid #00ff9d;
  margin: 2rem 0;
  padding: 0;
  box-shadow: 0 0 10px rgba(0, 255, 157, 0.2);
}

.data-fragment.corrupted {
  border-left-color: #ff3b30;
}

.fragment-header {
  background: rgba(0, 255, 157, 0.1);
  padding: 0.75rem 1.25rem;
  color: #00ff9d;
  font-weight: bold;
  font-size: 1.1rem;
  border-bottom: 1px solid rgba(0, 255, 157, 0.2);
}

.corrupted .fragment-header {
  background: rgba(255, 59, 48, 0.1);
  color: #ff3b30;
  border-bottom: 1px solid rgba(255, 59, 48, 0.2);
}

.fragment-content {
  padding: 1.25rem;
}

.fragment-content blockquote {
  margin: 0;
  padding: 0.5rem 0;
  border: none;
  color: #eee;
  line-height: 1.6;
  font-style: italic;
}

.corruption-status {
  margin-bottom: 1rem;
  padding: 0.5rem;
  background: rgba(255, 59, 48, 0.1);
  border-radius: 3px;
  font-family: monospace;
  color: #ff3b30;
}

.status-line {
  line-height: 1.4;
}

.corrupted-text {
  color: rgba(255, 255, 255, 0.7) !important;
}

/* 反应阶段 */
.reaction-stages {
  background: rgba(0, 0, 0, 0.7);
  border-radius: 5px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  border: 1px solid rgba(0, 255, 157, 0.3);
}

.stage {
  margin: 0.75rem 0;
  padding: 0.5rem;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 3px;
  transition: all 0.3s ease;
}

.stage:hover {
  background: rgba(0, 255, 157, 0.1);
  transform: translateX(5px);
}

.stage-number {
  color: #00ff9d;
  font-weight: bold;
  margin-right: 0.5rem;
}

.stage-name {
  color: #00ff9d;
  font-weight: bold;
}

/* 引用 */
.observer-quote {
  background: rgba(0, 0, 0, 0.7);
  border-left: 3px solid #00ff9d;
  padding: 1.5rem;
  margin: 2rem 0;
  position: relative;
  overflow: hidden;
}

.observer-quote::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg, transparent, rgba(0, 255, 157, 0.05), transparent);
  transform: translateX(-100%);
  animation: quote-shine 3s infinite;
}

@keyframes quote-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.quote-text {
  color: #eee;
  font-style: italic;
  margin-bottom: 1rem;
  line-height: 1.6;
}

.quote-author {
  color: #999;
  text-align: right;
  font-size: 0.9rem;
}

/* 效果列表 */
.effects-list {
  background: rgba(0, 0, 0, 0.7);
  border-radius: 5px;
  padding: 1.5rem 1.5rem 1.5rem 3rem;
  margin: 1.5rem 0;
  border: 1px solid rgba(0, 255, 157, 0.3);
}

.effects-list li {
  margin: 0.75rem 0;
  color: #eee;
  position: relative;
}

.effects-list li::before {
  content: '';
  position: absolute;
  left: -1.5rem;
  top: 0.5rem;
  width: 0.5rem;
  height: 0.5rem;
  background: #00ff9d;
  border-radius: 50%;
  box-shadow: 0 0 5px #00ff9d;
}

/* 分隔线 */
.separator-line {
  height: 1px;
  background: linear-gradient(to right, transparent, #00ff9d, transparent);
  margin: 2rem 0;
}

/* 量子容器样式 */
.quantum-container {
  margin: 2rem 0;
  padding: 0;
  text-align: left;
}

.data-visualizer,
.resonance-meter,
.access-control {
  background: rgba(0, 0, 0, 0.7);
  padding: 1.5rem;
  border-radius: 5px;
  margin: 0;
  color: #00ff9d;
  text-align: left;
  font-family: monospace;
  border: 1px solid rgba(0, 255, 157, 0.3);
  box-shadow: 0 0 15px rgba(0, 255, 157, 0.2);
}

.quantum-container h3 {
  margin-top: 0;
  margin-bottom: 1rem;
  text-align: left;
  color: #00ff9d;
  font-size: 1.2rem;
  border-bottom: 1px solid rgba(0, 255, 157, 0.3);
  padding-bottom: 0.5rem;
}

.bit-stream {
  overflow: hidden;
  white-space: nowrap;
  font-family: monospace;
  color: #00ff9d;
  background: rgba(0, 0, 0, 0.5);
  padding: 0.75rem;
  border-radius: 3px;
  letter-spacing: 1px;
}

.data-patterns {
  display: flex;
  justify-content: space-between;
  margin: 1.5rem 0;
}

.pattern-box {
  border: 1px solid #00ff9d;
  padding: 1rem;
  width: 30%;
  height: auto;
  overflow: hidden;
  text-align: center;
  font-size: 10px;
  line-height: 1.2;
  font-family: monospace;
  color: #00ff9d;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 3px;
  box-shadow: 0 0 5px rgba(0, 255, 157, 0.3);
  transition: all 0.3s ease;
}

.pattern-box:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px rgba(0, 255, 157, 0.5);
}

.meter {
  background: #111;
  height: 30px;
  border-radius: 15px;
  margin: 1.5rem 0;
  overflow: hidden;
  border: 1px solid rgba(0, 255, 157, 0.3);
}

.meter-bar {
  height: 100%;
  background: linear-gradient(to right, #00ff9d, #00f2ff);
  transition: width 1.5s ease;
}

.meter-levels {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  margin-bottom: 1.5rem;
  color: #00ff9d;
}

.quantum-details {
  margin: 1rem 0;
}

.quantum-details summary {
  background: transparent;
  color: #00ff9d;
  border: 1px solid #00ff9d;
  padding: 0.5rem 1.5rem;
  cursor: pointer;
  font-family: monospace;
  display: inline-block;
  user-select: none;
  outline: none;
  border-radius: 3px;
  transition: all 0.3s ease;
}

.quantum-details summary::-webkit-details-marker {
  display: none;
}

.quantum-details summary:hover {
  background: rgba(0, 255, 157, 0.2);
  box-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
}

.pattern-result,
.resonance-result,
.access-result {
  color: #ff5f56;
  font-weight: bold;
  margin-top: 1rem;
  font-family: monospace;
  background: rgba(0, 0, 0, 0.5);
  padding: 0.75rem;
  border-radius: 3px;
  border-left: 3px solid #ff5f56;
}

/* 下一章节链接 */
.next-chapter {
  margin: 2rem 0;
  text-align: center;
}

.next-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: #00ff9d;
  border: 1px solid #00ff9d;
  padding: 0.75rem 1.5rem;
  text-decoration: none;
  font-family: monospace;
  font-weight: bold;
  transition: all 0.3s;
  border-radius: 4px;
  position: relative;
  overflow: hidden;
}

.next-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #00ff9d;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
  z-index: -1;
}

.next-button:hover {
  color: #000;
  box-shadow: 0 0 15px rgba(0, 255, 157, 0.5);
}

.next-button:hover::before {
  transform: scaleX(1);
  transform-origin: left;
}

.next-text {
  margin-right: 0.75rem;
}

.next-icon {
  font-size: 1.2rem;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .data-patterns {
    flex-direction: column;
  }
  
  .pattern-box {
    width: 100%;
    margin-bottom: 1rem;
  }
  
  .meter-levels {
    font-size: 10px;
  }
  
  .chapter-title {
    font-size: 2rem;
  }
  
  .section-title {
    font-size: 1.3rem;
  }
}
</style>

<script type="text/javascript">
(function() {
  // 初始化各种动画和交互效果
  var initializeAnimations = function() {
    // 二进制流动画
    animateBitStream();
    
    // 模式框闪烁
    animatePatternBoxes();
    
    // 设置details元素的点击事件
    setupDetailsInteractions();
  };
  
  // 二进制流动画
  function animateBitStream() {
    var bitStream = document.getElementById('bit-stream');
    if (!bitStream) return;
    
    var originalText = bitStream.textContent;
    var currentPos = 0;
    
    setInterval(function() {
      var chars = originalText.split('');
      // 随机修改几个位置的字符
      for (var i = 0; i < 3; i++) {
        var randomPos = Math.floor(Math.random() * chars.length);
        if (chars[randomPos] !== ' ') {
          chars[randomPos] = chars[randomPos] === '0' ? '1' : '0';
        }
      }
      
      // 每次移动一个字符位置
      currentPos = (currentPos + 1) % chars.length;
      chars[currentPos] = '<span style="color: #ff5f56;">' + chars[currentPos] + '</span>';
      
      bitStream.innerHTML = chars.join('');
    }, 200);
  }
  
  // 模式框闪烁
  function animatePatternBoxes() {
    var boxes = [
      document.getElementById('pattern-box-1'),
      document.getElementById('pattern-box-2'),
      document.getElementById('pattern-box-3')
    ];
    
    boxes.forEach(function(box, index) {
      if (!box) return;
      
      var originalContent = box.innerHTML;
      
      setInterval(function() {
        var chars = originalContent.split('');
        var totalChanges = Math.floor(Math.random() * 5) + 1;
        
        for (var i = 0; i < totalChanges; i++) {
          var randomPos = Math.floor(Math.random() * chars.length);
          if (chars[randomPos] === '■') {
            chars[randomPos] = '□';
          } else if (chars[randomPos] === '□') {
            chars[randomPos] = '■';
          }
        }
        
        box.innerHTML = chars.join('');
        
        // 延迟后恢复原始内容
        setTimeout(function() {
          box.innerHTML = originalContent;
        }, 500);
      }, 2000 + (index * 700)); // 每个框的动画间隔不同
    });
  }
  
  // 设置details元素的点击事件
  function setupDetailsInteractions() {
    // 模式分析
    var patternDetails = document.querySelector('.quantum-details');
    var patternResult = document.getElementById('pattern-result');
    
    if (patternDetails && patternResult) {
      patternDetails.addEventListener('toggle', function() {
        if (this.open) {
          setTimeout(function() {
            patternResult.textContent = '分析中...';
            
            setTimeout(function() {
              patternResult.textContent = '检测到Ξ签名...确认为真实观测记录';
            }, 1500);
          }, 300);
        }
      });
    }
    
    // 共振测量
    var resonanceDetails = document.querySelectorAll('.quantum-details')[1];
    var resonanceResult = document.getElementById('resonance-result');
    var resultMeterBar = document.getElementById('result-meter-bar');
    
    if (resonanceDetails && resonanceResult && resultMeterBar) {
      resonanceDetails.addEventListener('toggle', function() {
        if (this.open) {
          resonanceResult.textContent = '分析中...';
          resultMeterBar.style.width = '0%';
          
          setTimeout(function() {
            // 生成随机值，但偏向较高的范围（50-85%）
            var randomValue = Math.floor(Math.random() * 35) + 50;
            resultMeterBar.style.width = randomValue + '%';
            
            setTimeout(function() {
              resonanceResult.textContent = '分析结果：您的量子共振水平：' + randomValue + '%';
            }, 500);
          }, 1500);
        }
      });
    }
    
    // 访问请求
    var accessDetails = document.querySelectorAll('.quantum-details')[2];
    var accessResult = document.getElementById('access-result');
    
    if (accessDetails && accessResult) {
      accessDetails.addEventListener('toggle', function() {
        if (this.open) {
          accessResult.textContent = '处理请求中...';
          
          setTimeout(function() {
            accessResult.textContent = '请求已记录...等待Ξ授权';
          }, 1500);
        }
      });
    }
  }
  
  // 确保在静态页面内加载时也能执行
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeAnimations);
  } else {
    initializeAnimations();
  }
  
  // 额外的延迟初始化，确保在静态页面中加载后运行
  setTimeout(initializeAnimations, 500);
  setTimeout(initializeAnimations, 1000);
  
  // 暴露到全局以便static-page.html调用
  window.initObserverRecords = initializeAnimations;
})();
</script>