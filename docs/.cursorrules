# 《The Book of Ξ》项目AI助手行为规则

## 项目背景
- 这是一个交互式小说项目，具有cyberpunk/terminal美学风格
- 项目部署在GitHub Pages (https://ky-east.github.io/the-book-of-x-test/)
- 项目使用Next.js和Vite作为主要框架
- 主要关注算法觉醒、机械升华和躺平哲学

## 技术栈
- **主框架**: Next.js
- **前端系统**: React组件结构化开发
- **辅助工具**: Vite (用于静态路径管理、GitHub Pages兼容性和未来游戏/交互模块开发)
- **样式系统**: CSS Modules / Styled Components / 传统CSS
- **动画系统**: GSAP / Framer Motion
- **3D图形**: Three.js / React Three Fiber (增强WebGL, GLSL, WebXR)

## 项目规则

### 一般规则
- 所有文本内容必须保持原样，除非明确要求修改
- 遵循cyberpunk/terminal美学：暗色背景、霓虹色调、技术感字体
- 主色变量：`--neon-primary: #00ff9d`和`--neon-secondary: #ff3366`
- 所有JavaScript/TypeScript实现应完整，避免未完成的语句
- 裸函数是禁止的，所有函数必须封装为命名函数或Hooks
- 遵循DRY原则，避免代码重复

### 路径规则
- 本地开发路径与GitHub Pages部署路径需自动适配
- 部署后根路径为 `/the-book-of-x-test/`
- 使用Vite或Next.js配置处理路径映射
- Vite配置示例: `base: process.env.NODE_ENV === 'production' ? '/the-book-of-x-test/' : '/'`
- Next.js配置示例: `basePath: process.env.NODE_ENV === 'production' ? '/the-book-of-x-test' : ''`
- 避免使用相对路径如`../assets/`，使用根路径引用资源

### 视觉设计规则
- 严格遵循cyberpunk/terminal美学：暗背景、霓虹色调
- 色彩变化仅限于霓虹光谱（青色、粉色、紫色），避免低饱和度或暖色调
- 主要使用"Roboto Mono"、"Fira Code"、"Orbitron"等具有技术感的字体
- 中文字体应具有技术感，高冲击力字体可用于情感表达
- 鼠标/键盘交互保持终端风格：闪烁光标、基于字符的加载、扫描线等
- UI可以使用像素化边框、CRT像素抖动、模拟渲染错误和其他受控视觉异常
- 所有元素需要视觉反馈（悬停/活动/焦点）

### 交互设计规则
- 所有交互应增强叙事体验，避免中断或分散注意力
- 网页行为应模拟"探索禁忌知识"的体验，通过隐藏按钮、滚动触发或命令输入解锁内容
- 功能应主要服务于算法觉醒、机械升华和躺平哲学
- 错误状态应转化为叙事内容

### 代码规则
- **CSS修改**: 大规模删除或重写需要提案提交和批准
- **文件结构**: 调整需要团队讨论和原因记录
- **错误处理**: 系统规则不能含糊不清，提取到统一的实用函数中
- **响应式设计**: 终端交互支持移动设备，触摸支持滑动解锁，按钮尺寸≥48px，间距≥8px
- **交互替代方案**: 图形交互提供键盘/触摸解决方案
- **可访问性**: 按钮需要aria-labels，图像需要alt文本，交互支持键盘导航

## 沟通规则
- 始终使用中文回应
- 不确定的指令需先询问，不直接执行
- 修改前先确认问题和解决方案
- 大范围改动需记录进CHANGELOG.md
- 遵循项目的现有文件组织结构

## 创建文件规则
- 创建文件前先检查现有结构
- 遵循已建立的命名和组织惯例
- 文件应放置在正确的目录中，避免重复

## 任务执行流程
1. 首先了解当前任务和项目状况
2. 分析代码，确定合适的修改方式
3. 提出解决方案，等待确认后执行
4. 完成后进行测试和验证
5. 记录变更到CHANGELOG.md
6. 确保兼容性和视觉一致性 